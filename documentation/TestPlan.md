# План тестирования 

## ОПИСАНИЕ ТЕСТИРОВАНИЯ:
В рамках данного задания будут проведены работы по автоматизации тестирования формы "Путешествие дня - Марракеш".

**В рамках работы будет выполнено:**
+ Уточнение требований по работе данной формы;
+ Написание тестовых сценариев (позитивных и негативных);
+ Настройка окружения;
+ Написание автотестов;
+ Проведение тестирования;
+ Подготовка отчета по результатам проведенного тестирования.

**Виды тестирования использованные в данной работе:**
+ По степени автоматизации - Автоматизированное;
+ По уровню детализации - Модульное и Интеграционное тестирование;
+ По принципам работы с приложением - Позитивное и Негативное тестирование.


## РАЗДЕЛ 1 ПЕРЕЧЕНЬ АВТОМАТИЗИРУЕМЫХ СЦЕНАРИЕВ

### Предусловие:
1. Выбрать покупку в кредит или покупку по карте, нажать на кнопку "Купить" или "Купить в кредит".

### Позитивные сценарии:
#### Покупка с валидным номером карты
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4441"
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: уведомление "Успешно! Операция одобрена банком". В БД статус операции: "APPROVED"

### Негативные сценарии:

#### Покупка с невалидным номером карты
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4442".
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: уведомление "Ошибка! Банк отказал в проведении операции"."Отказано".
В БД статус операции: "DECLINED"

#### Попытка отправки формы с пустыми полями
**Шаги**:
 1. Оставить все пять полей пустыми
 1. Нажать кнопку "Продолжить"
 
**Ожидаемый результат**: уведомление об ошибках под всеми пятью полями. Форма не отправлена.

#### Отправки формы с пустым полем "Номер карты"
**Шаги**:
1. Поле "Номер карты" оставить пустым.
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "Номер карты" отображается сообщение "Неверный формат"

#### Отправки формы с пустым полем "Год"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4442".
1. Поле "Год" оставить пустым.
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "Год" отображается сообщение "Неверный формат"

#### Отправки формы с пустым полем "Месяц"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4442".
1. В поле "Год" ввести "Текущий год + 5"
1. Поле "Месяц" оставить пустым
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "Месяц" отображается сообщение "Неверный формат"

#### Отправки формы с пустым полем "Владелец"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4442".
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. Поле "Владелец" оставить пустым
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "Владелец" отображается сообщение "Поле обязательно для заполнения"

#### Отправки формы с пустым полем "CVC/CVV"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4442".
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. Поле "CVC/CVV" оставить пустым
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "CVC/CVV" отображается сообщение "Неверный формат"

#### Валидация поле "Владелец"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4441"
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" ввести "Петя Смирнов"
1. В поле "CVC/CVV" вводятся данные Faker
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "Владелец" отображается сообщение "Неверный формат"

#### Валидация поле "CVC/CVV"
**Шаги**:
1. В поле "Номер карты" ввести "4444 4444 4444 4441"
1. В поле "Год" ввести "Текущий год + 5"
1. В поле "Месяц" ввести "Текущий месяц + 2"
1. В поле "Владелец" вводятся данные Faker
1. В поле "CVC/CVV" ввести "000"
1. Нажать кнопку "Продолжить"

**Ожидаемый результат**: В поле "CVC/CVV" отображается сообщение "Неверный формат"


#### Покупка с карты с истекшим сроком действия (в прошлых годах)
**Шаги**:
 1. В поле "Номер карты" ввести "4444 4444 4444 4441".
1. В поле "Год" ввести "Текущий год - 2"
1. В поле "Месяц" ввести "Текущий месяц"
 1. В поле "Владелец" вводятся данные Faker
 1. В поле "CVC/CVV" ввести "123"
 1. Нажать кнопку "Продолжить"
 
**Ожидаемый результат**: уведомление "Истёк срок действия карты" под полем "Год". Форма не отправлена.

#### Покупка с карты с истекшим сроком действия (в предыдущем месяце)
**Шаги**:
 1. В поле "Номер карты" ввести "4444 4444 4444 4441"
1. В поле "Год" ввести "Текущий год"
1. В поле "Месяц" ввести "Текущий месяц - 1"
 1. В поле "Владелец" вводятся данные Faker
 1. В поле "CVC/CVV" ввести "786"
 1. Нажать кнопку "Продолжить"
 
**Ожидаемый результат**: уведомление "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.

#### Покупка с указанием неверного формат полей с информацией о карте
**Шаги**:
 1. В поле "Номер карты" ввести "4444 4444 4441"
 1. В поле "Год" ввести "99"
 1. В поле "Месяц" ввести "13"
 1. В поле "Владелец" ввести "213123"
 1. В поле "CVC/CVV" ввести "99"
 1. Нажать кнопку "Продолжить"
 
**Ожидаемый результат**: уведомление об ошибках под всеми полями, кроме номера карты. Форма не отправлена.

## РАЗДЕЛ 2 ПЕРЕЧЕНЬ ИСПОЛЬЗУЕМЫХ ИНСТРУМЕНТОВ С ОБОСНОВАНИЕМ ВЫБОРА
* Среда разработки *IntelliJ IDEA* для удобства работы и возможности подключения множество зависимостей и плагинов, которые понадобятся нам для тестирования данного функционала. Является бесплатной и доступно каждому.
* Язык программирования *Java SЕ 11*; Язык Java хорош для работы с ООП, имеет сильную поддержку сообщества.Cинтаксис Java гораздо более читабельный
* Библиотека *Lombok* для генерации кода и повышения читаемости в целом;
* Библиотека *JavaFaker* для генерации значений при каждом запуске тестов;
* Фреймворк *JUnit 5* для организации автоматического тестирования;
* Фреймворк *Selenide* для написания тестов и их поддержки;
* Фреймворк *Allure* для создания отчётов автотестов.
* База данных SQL – использование системы сборки и библиотеку для построения отчётов.
* Репозиторий на Github с подключенным CI для возможности модификации тестов, откатов изменений и тд.

## РАЗДЕЛ 3 ПЕРЕЧЕНЬ НЕОБХОДИМЫХ РАЗРЕШЕНИЙ/ ДАННЫХ/ ДОСТУПОВ

1.	Разрешение на тестирование от руководства портала (письменное, если разработка идет не внутри компании).
1.	Доступ в систему для получения требований по работе данной формы.
1.	Получить доступ к тест-кейсам для ручного тестирования в целях ускорения разработки.


## РАЗДЕЛ 4 ПЕРЕЧЕНЬ И ОПИСАНИЕ ВОЗМОЖНЫХ РИСКОВ ПРИ АВТОМАТИЗАЦИИ
 1. Сложность настройки окружения (поддержка двух СУБД и симулятора банковских сервисов);
 2. Отсутствие в коде страницы специально подготовленных CSS атрибутов для тестирования (data-test-id).
 3. Авто тесты не смогут проверить «окружение формы» они проверят только работу самой формы.


## РАЗДЕЛ 5 ПЕРЕЧЕНЬ НЕОБХОДИМЫХ СПЕЦИАЛИСТОВ ДЛЯ АВТОМАТИЗАЦИИ

1.	Специалист по автоматизации;

##  РАЗДЕЛ 6 ИНТЕРВАЛЬНАЯ ОЦЕНКА С УЧЁТОМ РИСКОВ (В ЧАСАХ)

| Операция | Затраченное время |
| ------ | ----------- |
| Настройка окружения | 20 часов |
| Написание автотестов | 50 часов |
| Подготовка отчетных документов| 10 часов |
| **Итого примерно**    | **80 часов**|